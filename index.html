<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>인천대학교 가족회사 검색</title>
<style>
body { font-family: Arial; background:#f5f5f5; padding:20px; }
.container { max-width:600px; margin:auto; }
.card { background:white; padding:20px; border-radius:12px; margin-top:20px; box-shadow:0 4px 12px rgba(0,0,0,0.08); }
.keyword { color:#007BFF; font-weight:bold; }
input { width:100%; padding:12px; border:1px solid #ccc; border-radius:8px; margin-top:8px; }
button { width:100%; padding:14px; background:#007BFF; color:white; border:none; border-radius:8px; margin-top:12px; font-size:18px; }
</style>
</head>
<body>
<div class="container">
<h2>인천대학교 가족회사 검색</h2>

<label>기업명</label>
<input id="companyInput" placeholder="기업명 입력">

<label>대표자명</label>
<input id="ceoInput" placeholder="대표자명 입력">

<button id="searchBtn">검색</button>

<div id="resultArea"></div>
</div>

<script src="familyCompanies.js"></script>

<script>
// 옵션 C 하이라이트 함수
function highlight(text, keyword) {
    if (!keyword) return text;
    const lower = text.toLowerCase();
    const key = keyword.toLowerCase();

    // 검색어 길이 1 이하 → 전체 강조
    if (keyword.length <= 1) {
        return `<span class="keyword">${text}</span>`;
    }

    const idx = lower.indexOf(key);
    if (idx === -1) return text;

    const before = text.substring(0, idx);
    const match = text.substring(idx, idx + keyword.length);
    const after = text.substring(idx + keyword.length);
    return `${before}<span class="keyword">${match}</span>${after}`;
}

document.getElementById("searchBtn").onclick = function () {
    const companyKey = document.getElementById("companyInput").value.trim();
    const ceoKey = document.getElementById("ceoInput").value.trim();

    const results = window.familyCompanies.filter(row => {
        const c1 = companyKey && row.기업명.includes(companyKey);
        const c2 = ceoKey && row.대표자.includes(ceoKey);
        return c1 || c2;
    });

    const area = document.getElementById("resultArea");
    area.innerHTML = "";

    if (results.length === 0) {
        area.innerHTML = "<p>검색 결과가 없습니다.</p>";
        return;
    }

    results.forEach(row => {
        let comp = row.기업명;
        let ceo = row.대표자;

        if (companyKey) comp = highlight(comp, companyKey);
        if (ceoKey) ceo = highlight(ceo, ceoKey);

        area.innerHTML += `
        <div class="card">
            <p><b>인증서 번호</b> ${row.인증서번호}</p>
            <p><b>기업명</b> ${comp}</p>
            <p><b>대표자</b> ${ceo}</p>
            <p><b>멤버십</b> ${row.멤버십}</p>
            <p><b>주요제품</b> ${row.주요제품}</p>
            <p><b>업종</b> ${row.업종}</p>
            <p><b>사업자등록번호</b> ${row.사업자등록번호}</p>
            <p><b>추천교수</b> ${row.추천교수}</p>
            <p><b>주소</b> ${row.주소}</p>
        </div>
        `;
    });
};
</script>

</body>
</html>
